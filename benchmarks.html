<!DOCTYPE html>
<html>
<head>
  <title>num.js Benchmark Runner</title>
  <script type="text/javascript" src="benchmark.js/benchmark.js"></script>

  <!-- include source files here... -->
  <script type="text/javascript" src="simple-arith.js"></script>
  <script type="text/javascript" src="trial-division.js"></script>
  <script type="text/javascript" src="euler-phi.js"></script>
  <script type="text/javascript" src="multiplicative-order.js"></script>
  <script type="text/javascript" src="primality-testing.js"></script>

  <!-- include benchmark files here... -->
  <script type="text/javascript" src="trial-division-benchmark.js"></script>
  <script type="text/javascript" src="multiplicative-order-benchmark.js"></script>
  <script type="text/javascript" src="primality-testing-benchmark.js"></script>
  <script type="text/javascript" src="polynomial-power-benchmark.js"></script>

</head>
<body>
<input id="run-polynomial-power-benchmark"
       type="button" value="Run polynomial power benchmark" />

<input id="run-trial-division-benchmark"
       type="button" value="Run trial division benchmark" />

<input id="run-multiplicative-order-benchmark"
       type="button" value="Run multiplicative order benchmark" />

<input id="run-primality-testing-benchmark"
       type="button" value="Run primality testing benchmark" />

<pre id="output">
</pre>
<script type="text/javascript">
'use strict';

var outputPre = document.getElementById('output');
var outputFn = function(str) {
  outputPre.textContent += str + '\n';
};

function runBenchmark(suites, i) {
  if (i >= suites.length) {
    return;
  }
  var suite = suites[i];
  suite.run({ 'async': true });
  suite.on('complete', function() {
    runBenchmark(suites, i + 1);
  });
};

var runPolynomialPowerBenchmarkButton =
    document.getElementById('run-polynomial-power-benchmark');

runPolynomialPowerBenchmarkButton.onclick = function() {
  outputPre.textContent = '';
  runBenchmark(makePolynomialPowerBenchmark(outputFn), 0);
};

var runTrialDivisionBenchmarkButton =
    document.getElementById('run-trial-division-benchmark');

runTrialDivisionBenchmarkButton.onclick = function() {
  outputPre.textContent = '';
  runBenchmark(makeTrialDivisionBenchmark(outputFn), 0);
};

var runMultiplicativeOrderBenchmarkButton =
    document.getElementById('run-multiplicative-order-benchmark');

runMultiplicativeOrderBenchmarkButton.onclick = function() {
  outputPre.textContent = '';
  runBenchmark(makeMultiplicativeOrderBenchmark(outputFn), 0);
};

var runPrimalityTestingBenchmarkButton =
    document.getElementById('run-primality-testing-benchmark');

runPrimalityTestingBenchmarkButton.onclick = function() {
  outputPre.textContent = '';
  runBenchmark(makePrimalityTestingBenchmark(outputFn), 0);
};
</script>
</body>
</html>
