<!DOCTYPE html>
<html>
<head>
  <title>num.js Examples</title>

  <!-- Knockout -->
  <script type="text/javascript"
          src="knockout/build/output/knockout-latest.js"></script>

  <!-- Source files -->
  <script type="text/javascript" src="simple-arith.js"></script>
  <script type="text/javascript" src="trial-division.js"></script>
  <script type="text/javascript" src="primality-testing.js"></script>
  <script type="text/javascript" src="euler-phi.js"></script>
  <script type="text/javascript" src="multiplicative-order.js"></script>
</head>

<body>

<p id="trialDivisionExample">
  <input data-bind="value: nStr, valueUpdate: 'afterkeydown'" size="6" />
  <!-- ko template: outputTemplate --><!-- /ko -->

  <script type="text/html" id="trialDivision.error.invalidN">
    is not a valid number.
  </script>

  <script type="text/html" id="trialDivision.success.noNonTrivialFactors">
    has no non-trivial factors.
  </script>

  <script type="text/html" id="trialDivision.success.withNonTrivialFactors">
    has non-trivial factors <span data-bind="text: factorsStr"></span>.
  </script>
</p>
<script type="text/javascript" src="trial-division-example.js"></script>

<p id="fermatExample">
  Let <var>n</var> =
  <input data-bind="value: nStr, valueUpdate: 'afterkeydown'" size="6" />
  and <var>a</var> =
  <input data-bind="value: aStr, valueUpdate: 'afterkeydown'" size="6" />.
  <!-- ko template: outputTemplate --><!-- /ko -->

  <script type="text/html" id="fermat.error.invalidN">
    <var>n</var> is not a valid number.
  </script>

  <script type="text/html" id="fermat.error.invalidA">
    <var>a</var> is not a valid number.
  </script>

  <script type="text/html" id="fermat.error.outOfBoundsN">
    <var>n</var> must be greater than 2.
  </script>

  <script type="text/html" id="fermat.error.outOfBoundsA">
    <var>a</var> must be greater than 1 and less than <var>n</var>.
  </script>

  <script type="text/html" id="fermat.success">
    <var>a</var><sup><var>n</var>&minus;1</sup> &equiv;
    <span data-bind="text: r"></span> (mod <var>n</var>) so
    therefore <var>n</var> is
    <span data-bind="if: isCompositeByFermat()">
      composite.
      <span data-bind="if: r() && r().isZero()">
        Furthermore, gcd(<var>a</var>, <var>n</var>) =
        <span data-bind="text: k"></span> is a non-trivial
        factor of <var>n</var>.
      </span>
    </span>
    <span data-bind="ifnot: isCompositeByFermat()">
      either prime or a Fermat pseudoprime.
    </span>
  </script>
</p>
<script type="text/javascript" src="fermat-example.js"></script>

<p id="artjuhovExample">
  Let <var>n</var> =
  <input data-bind="value: nStr, valueUpdate: 'afterkeydown'" size="6" />
  and <var>a</var> =
  <input data-bind="value: aStr, valueUpdate: 'afterkeydown'" size="6" />.
  <!-- ko template: outputTemplate --><!-- /ko -->

  <script type="text/html" id="artjuhov.error.invalidN">
    <var>n</var> is not a valid number.
  </script>

  <script type="text/html" id="artjuhov.error.invalidA">
    <var>a</var> is not a valid number.
  </script>

  <script type="text/html" id="artjuhov.error.outOfBoundsN">
    <var>n</var> must be greater than 2.
  </script>

  <script type="text/html" id="artjuhov.error.outOfBoundsA">
    <var>a</var> must be greater than 1 and less than <var>n</var>.
  </script>

  <script type="text/html" id="artjuhov.success.fermatEquivResult">
    <var>n</var> is even, so this reduces to the Fermat primality test.
    <var>a</var><sup><var>n</var>&minus;1</sup> &equiv;
    <span data-bind="text: r"></span> (mod <var>n</var>) so
    therefore <var>n</var> is
    <span data-bind="if: isCompositeByArtjuhov()">
      composite.
      <span data-bind="html: factorsHtml"></span>
    </span>
    <span data-bind="ifnot: isCompositeByArtjuhov()">
      an Artjuhov pseudoprime.
    </span>
  </script>

  <script type="text/html" id="artjuhov.success.impliesFinalEquivResult">
    <var>n</var> &minus; 1 = <span data-bind="html: nMinusOneHtml"></span>,
    and <var>r</var> &equiv; <span data-bind="html: rHtml"></span>
    &equiv; <span data-bind="html: rResultHtml"></span>
    (mod <var>n</var>), so
    <var>a</var><sup><var>n</var>&minus;1</sup> &equiv;
    <span data-bind="html: aNMinusOneHtml"></span> (mod <var>n</var>),
    and therefore <var>n</var> is
    <span data-bind="if: isCompositeByArtjuhov()">
      composite.
      <span data-bind="html: factorsHtml"></span>
    </span>
    <span data-bind="ifnot: isCompositeByArtjuhov()">
      either prime or an Artjuhov pseudoprime.
    </span>
  </script>

  <script type="text/html" id="artjuhov.success.nonTrivialSqrtResult">
    <var>n</var> &minus; 1 = <span data-bind="html: nMinusOneHtml"></span>,
    <var>r</var> &equiv; <span data-bind="html: rHtml"></span>
    &equiv; 1 (mod <var>n</var>), and
    &radic;<var>r</var> &equiv; <span data-bind="html: rSqrtHtml"></span>
    &equiv; <span data-bind="text: rSqrt"></span> (mod <var>n</var>), so
    <span data-bind="text: rSqrt"></span> is a non-trivial square root
    of unity mod <var>n</var> and therefore <var>n</var> is composite.
    <span data-bind="html: factorsHtml"></span>
  </script>
</p>
<script type="text/javascript" src="artjuhov-example.js"></script>

<p id="aksExample">
  Let <var>n</var> =
  <input data-bind="value: nStr, valueUpdate: 'afterkeydown'" size="6" />.
  <!-- ko template: outputTemplate --><!-- /ko -->

  <script type="text/html" id="aks.error.invalidN">
    <var>n</var> is not a valid number.
  </script>

  <script type="text/html" id="aks.error.outOfBoundsN">
    <var>n</var> must be greater than or equal to 2.
  </script>

  <script type="text/html" id="aks.success">
    ceil(lg(<var>n</var>)) is <span data-bind="text: ceilLgN"></span>,
    <var>r</var> = <span data-bind="text: r"></span> is the least
    value such that o<sub><var>r</var></sub>(<var>n</var>) =
    <span data-bind="text:
    nOrder"></span> &gt; ceil(lg(<var>n</var>))<sup>2</sup>
    = <span data-bind="text: ceilLgNSq"></span>,
    &varphi;(<var>r</var>) = <span data-bind="text:
    eulerPhiR"></span>, and
    <var>M</var> = floor(&radic;&varphi;(<var>r</var>)) &sdot;
    ceil(lg(<var>n</var>)) + 1 = <span data-bind="text: M"></span>
    &gt; floor(&radic;&varphi;(<var>r</var>)) &sdot; lg(<var>n</var>).
    <span data-bind="if: factor()">
      <var>n</var> has a factor <span data-bind="text: factor"></span>
      &lt; <var>M</var>, so therefore <var>n</var> is composite.
    </span>
    <span data-bind="if: isPrime()">
      <var>n</var> has no factor &lt; <var>M</var> and <var>M</var>
      &le; floor(&radic;<var>n</var>) = <span data-bind="text:
      floorSqrtN"></span>, so therefore <var>n</var> is prime.
    </span>
    <span data-bind="if: !factor() && !isPrime()">
      <var>n</var> has no factor &lt; <var>M</var> and <var>M</var>
      &gt; floor(&radic;<var>n</var>) = <span data-bind="text:
      floorSqrtN"></span>, so <var>n</var> is prime iff (<var>X</var>
      + <var>a</var>)<sup><var>n</var></sup>
      &equiv; <var>X</var><sup><var>n</var></sup> + <var>a</var>
      (mod <var>X</var><sup><var>r</var></sup> - 1, <var>n</var>) for
      0 &le; <var>a</var> &le; <var>M</var>.
    </span>
  </script>
</p>
<script type="text/javascript" src="aks-example.js"></script>

</body>
</html>
